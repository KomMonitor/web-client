<div class="modal-header">
  <button type="button" class="close" (click)="closeModal()" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
  <h4 class="modal-title">Raumebenen löschen</h4>
</div>

<div class="modal-body">
  <div align="center">
    <div class="loading-overlay-admin-panel" [class.ng-hide]="!loadingData" *ngIf="loadingData">
      <span class="glyphicon glyphicon-refresh icon-spin"></span>
    </div>
  </div>

  <h4><b>Sollen die folgenden Raumebenen wirklich gelöscht werden?</b></h4>

  <p>Dabei werden auch sämtliche Indikatoren-Datensätze der angezeigten Raumebenen dauerhaft aus dem System entfernt.</p>

  <div *ngIf="datasetsToDelete.length > 0">
    <ul>
      <li *ngFor="let dataset of datasetsToDelete">{{dataset.spatialUnitLevel}}</li>
    </ul>
  </div>

  <div *ngIf="!datasetsToDelete.length">
    <pre>kein Datensatz zum Löschen markiert. Mindestens ein Datensatz muss markiert werden.</pre>
  </div>
</div>

<div class="modal-footer">
  <button type="button" class="btn btn-default pull-left" (click)="closeModal()">Schließen</button>
  <button type="button" class="btn btn-danger" (click)="deleteSpatialUnits()" [disabled]="!datasetsToDelete.length">Raumebenen unwiderruflich löschen</button>
</div>

<div id="spatialUnitsDeleteSuccessAlert" style="position: absolute; bottom: 0px; width: 100%;" [hidden]="!successMessage" class="alert alert-success alert-dismissable">
  <button type="button" class="close" (click)="hideSuccessAlert()" aria-hidden="true">&times;</button>
  <h4><i class="icon fa fa-check"></i>Folgende Raumebenen wurde erfolgreich gelöscht</h4>
  <ul>
    <li *ngFor="let dataset of successfullyDeletedDatasets">{{dataset.spatialUnitLevel}}</li>
  </ul>
</div>

<div id="spatialUnitsDeleteErrorAlert" style="position: absolute; bottom: 0px; width: 100%;" [hidden]="!errorMessage" class="alert alert-danger alert-dismissable">
  <button type="button" class="close" (click)="hideErrorAlert()" aria-hidden="true">&times;</button>
  <h4><i class="icon fa fa-ban"></i>Löschen gescheitert</h4>
  Folgende Datensätze konnten nicht gelöscht werden.
  <br/>
  <table class="table table-bordered table-condensed" style="width:100%; overflow:auto; font-size: 11px;">
    <thead>
      <tr>
        <th>Name</th>
        <th>Fehlermeldung</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let dataset of failedDatasetsAndErrors">
        <td>{{dataset[0].spatialUnitLevel}}</td>
        <td [innerHTML]="dataset[1]"></td>
      </tr>
    </tbody>
  </table>
</div> 